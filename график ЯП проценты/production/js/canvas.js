document.addEventListener("DOMContentLoaded",()=>{const e=["#b3d5fc","#98d9d9","#ede493"],t=document.querySelectorAll(".chart__input");console.log(typeof t);const o=document.querySelector("#canvas"),l=o.getContext("2d"),n=100,a=80,i=220,r=190,s=50,c=30,f=70,h="18px",T="Tahoma",d=o.clientWidth,m=o.clientHeight,v=()=>{l.fillStyle="#000";l.font="30px Arial",l.textAligh="left",l.textBaselinke="top";for(let e=0;e<=d;e+=60)0==e?(l.beginPath(),l.strokeStyle="#f00",l.moveTo(6,0),l.lineTo(6,m),l.stroke(),l.closePath()):(l.beginPath(),l.strokeStyle="#bbb",l.moveTo(e,0),l.lineTo(e,m),l.stroke(),l.closePath()),l.fillText(e,e+-20,30);for(let e=0;e<=m;e+=60)0==e?(l.beginPath(),l.strokeStyle="#f00",l.moveTo(0,6),l.lineTo(d,6)):(l.beginPath(),l.strokeStyle="#bbb",l.moveTo(0,e),l.lineTo(d,e)),l.fillText(e,5,e+0),l.stroke(),l.closePath();l.beginPath(),l.strokeStyle="#000000";l.moveTo(0,0),l.lineTo(0,m),l.fillStyle="#f00",l.fillText("y",30,90),l.moveTo(0,0),l.lineTo(d,0),l.fillText("x",90,60),l.stroke(),l.closePath(),l.fillStyle="#f00",l.beginPath(),l.moveTo(0,0),l.lineTo(60,60),l.stroke(),l.closePath()};v();const y=document.querySelector(".chart__data");y.addEventListener("submit",d=>{d.preventDefault(),(e=>{l.clearRect(0,0,o.width,o.height);let t=a,d=f;const m=s+n;for(const n of e){const e=n.value*r/100;l.fillStyle=n.color,l.font=`${h} ${T}`,l.save(),l.translate(0,o.height),l.rotate(-Math.PI/2),l.fillText(n.name.toUpperCase(),c,d),l.restore(),l.fillRect(t,i,s,-e),t+=m,d+=m}})((o=>Array.from(t).map((t,o)=>({name:t.name,value:t.value,color:e[o]})))()),v(),y.reset()})});